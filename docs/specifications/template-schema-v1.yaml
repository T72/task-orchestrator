# Task Orchestrator Template Schema Specification v1.0
# This schema defines the structure for task templates

# Template metadata
name: string           # Required: Template identifier (kebab-case)
version: string        # Required: Template version (semver)
description: string    # Required: Brief description of template purpose
author: string         # Optional: Template author
tags: [string]        # Optional: Tags for categorization

# Variables that can be customized when instantiating
variables:
  variable_name:
    type: string      # Required: string, number, boolean, array
    description: string # Required: What this variable controls
    required: boolean # Optional: Whether user must provide (default: false)
    default: any      # Optional: Default value if not provided
    validation:       # Optional: Validation rules
      pattern: string # Regex pattern for strings
      min: number     # Minimum value for numbers
      max: number     # Maximum value for numbers
      enum: [any]     # Allowed values

# Tasks to create from template
tasks:
  - title: string     # Required: Task title (can use {{variables}})
    description: string # Optional: Task description
    priority: string  # Optional: low, medium, high, critical
    status: string    # Optional: Initial status (default: pending)
    assignee: string  # Optional: Agent to assign to
    estimated_hours: number # Optional: Time estimate
    depends_on: [index/string] # Optional: Dependencies (indices or IDs)
    criteria: array   # Optional: Success criteria
      - criterion: string
        measurable: boolean
    metadata:         # Optional: Additional metadata
      key: value
    file_references: [string] # Optional: Associated files

# Dependencies between tasks (alternative to inline)
dependencies:
  task_index_or_id: [dependency_indices_or_ids]

# Hooks to run at various points
hooks:
  pre_instantiate: string  # Optional: Script to run before creating tasks
  post_instantiate: string # Optional: Script to run after creating tasks

# Example instantiation
example:
  variables:
    variable_name: value
  expected_tasks: number    # How many tasks should be created